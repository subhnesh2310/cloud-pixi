{
    "module": {
        "@name": "ioa-otn-common",
        "@xmlns": "urn:ietf:params:xml:ns:yang:yin:1",
        "@xmlns:ioa-otn": "http://infinera.com/yang/ioa/otn-common",
        "@xmlns:ioa-common": "http://infinera.com/yang/ioa/common",
        "@xmlns:ioa-fac-common": "http://infinera.com/yang/ioa/facilities-common",
        "namespace": {
            "@uri": "http://infinera.com/yang/ioa/otn-common"
        },
        "prefix": {
            "@value": "ioa-otn"
        },
        "import": [
            {
                "@module": "ioa-common",
                "prefix": {
                    "@value": "ioa-common"
                }
            },
            {
                "@module": "ioa-facilities-common",
                "prefix": {
                    "@value": "ioa-fac-common"
                }
            }
        ],
        "organization": {
            "text": "Infinera"
        },
        "contact": {
            "text": "Infinera Technical Support <techsupport@infinera.com>"
        },
        "description": {
            "text": "IOA YANG definitions defining custom data types for OTN facilities in a typical Layer 1 optical transponder."
        },
        "revision": [
            {
                "@date": "2022-10-31",
                "description": {
                    "text": "YANG Models for Infinera Open API (IOA) for release R6.0"
                }
            },
            {
                "@date": "2021-12-10",
                "description": {
                    "text": "YANG Models for Infinera Open API (IOA) for release R5.0"
                }
            },
            {
                "@date": "2021-06-01",
                "description": {
                    "text": "YANG Models for Infinera Open API (IOA) for release R4.0"
                }
            }
        ],
        "typedef": [
            {
                "@name": "odu-type",
                "type": {
                    "@name": "enumeration",
                    "enum": [
                        {
                            "@name": "ODUCn",
                            "value": {
                                "@value": "1"
                            },
                            "description": {
                                "text": "OTUCn protocol layer."
                            }
                        },
                        {
                            "@name": "ODUCni",
                            "value": {
                                "@value": "2"
                            },
                            "description": {
                                "text": "Infinera proprietary OTUCni protocol layer."
                            }
                        },
                        {
                            "@name": "ODUCni-M",
                            "value": {
                                "@value": "3"
                            },
                            "description": {
                                "text": "Infinera proprietary OTUCni protocol layer."
                            }
                        },
                        {
                            "@name": "ODU4",
                            "value": {
                                "@value": "4"
                            },
                            "description": {
                                "text": "ODU4 protocol layer."
                            }
                        },
                        {
                            "@name": "ODU4i",
                            "value": {
                                "@value": "5"
                            },
                            "description": {
                                "text": "Infinera proprietary ODU4i protocol layer."
                            }
                        },
                        {
                            "@name": "ODUflexi",
                            "value": {
                                "@value": "6"
                            },
                            "description": {
                                "text": "Infinera proprietary ODUflexi protocol layer."
                            }
                        },
                        {
                            "@name": "ODUflex",
                            "value": {
                                "@value": "7"
                            },
                            "description": {
                                "text": "ODU-flex protocol layer."
                            }
                        },
                        {
                            "@name": "ODU0",
                            "value": {
                                "@value": "8"
                            },
                            "description": {
                                "text": "ODU0 protocol layer."
                            }
                        },
                        {
                            "@name": "ODU1",
                            "value": {
                                "@value": "9"
                            },
                            "description": {
                                "text": "ODU1 protocol layer."
                            }
                        },
                        {
                            "@name": "ODU2",
                            "value": {
                                "@value": "10"
                            },
                            "description": {
                                "text": "ODU2 protocol layer."
                            }
                        },
                        {
                            "@name": "ODU2e",
                            "value": {
                                "@value": "11"
                            },
                            "description": {
                                "text": "ODU2e protocol layer."
                            }
                        }
                    ]
                },
                "description": {
                    "text": "A custom data type for ODUk/ODUCn clients."
                }
            },
            {
                "@name": "otu-type",
                "type": {
                    "@name": "enumeration",
                    "enum": [
                        {
                            "@name": "OTUCn",
                            "value": {
                                "@value": "1"
                            },
                            "description": {
                                "text": "OTUCn protocol layer."
                            }
                        },
                        {
                            "@name": "OTUCni",
                            "value": {
                                "@value": "2"
                            },
                            "description": {
                                "text": "Infinera proprietary OTUCni protocol layer."
                            }
                        },
                        {
                            "@name": "OTUCni-M",
                            "value": {
                                "@value": "3"
                            },
                            "description": {
                                "text": "Infinera proprietary OTUCni protocol layer."
                            }
                        },
                        {
                            "@name": "OTU4",
                            "value": {
                                "@value": "4"
                            },
                            "description": {
                                "text": "OTU4 protocol layer."
                            }
                        },
                        {
                            "@name": "OTU2",
                            "value": {
                                "@value": "5"
                            },
                            "description": {
                                "text": "OTU2 protocol layer."
                            }
                        },
                        {
                            "@name": "OTU2e",
                            "value": {
                                "@value": "6"
                            },
                            "description": {
                                "text": "OTU2e protocol layer."
                            }
                        }
                    ]
                },
                "description": {
                    "text": "The protocol type of the OTUk/OTUCn client."
                },
                "reference": {
                    "text": "Section 7.4 in ITU-T G.875 (12/2018) and ITU-T G.709"
                }
            },
            {
                "@name": "monitoring-mode",
                "type": {
                    "@name": "enumeration",
                    "enum": [
                        {
                            "@name": "unused",
                            "value": {
                                "@value": "10"
                            },
                            "description": {
                                "text": "Unused"
                            }
                        },
                        {
                            "@name": "intrusive",
                            "value": {
                                "@value": "20"
                            },
                            "description": {
                                "text": "Intrusive monitoring"
                            }
                        },
                        {
                            "@name": "non-intrusive",
                            "value": {
                                "@value": "30"
                            },
                            "description": {
                                "text": "Non-intrusive monitoring"
                            }
                        },
                        {
                            "@name": "limited-non-intrusive",
                            "value": {
                                "@value": "40"
                            },
                            "description": {
                                "text": "Non-intrusive monitoring"
                            }
                        }
                    ]
                },
                "description": {
                    "text": "Possible modes for monitoring in OTN entities."
                }
            },
            {
                "@name": "rate",
                "type": {
                    "@name": "decimal64",
                    "fraction-digits": {
                        "@value": "3"
                    }
                },
                "units": {
                    "@name": "Gbit/s"
                },
                "description": {
                    "text": "Rate of a OTN facilities in GBit/s."
                }
            },
            {
                "@name": "payload-type",
                "type": {
                    "@name": "string",
                    "pattern": {
                        "@value": "(0x(([0-9A-Fa-f])([0-9A-Fa-f]))*)?"
                    }
                },
                "description": {
                    "text": "Hex string with '0x' prefix."
                }
            }
        ],
        "grouping": [
            {
                "@name": "tti-itu",
                "description": {
                    "text": "Collection of TTI attributes when the TTI style is configured to be ITU-T G.709 style."
                },
                "reference": {
                    "text": "Section 15.2 in ITU-T-G709 (June 2016)."
                },
                "leaf": [
                    {
                        "@name": "expected-sapi",
                        "type": {
                            "@name": "ioa-fac-common:tti-15"
                        },
                        "default": {
                            "@value": ""
                        },
                        "description": {
                            "text": "The expected SAPI (Source Access Point Identifier)."
                        }
                    },
                    {
                        "@name": "expected-dapi",
                        "type": {
                            "@name": "ioa-fac-common:tti-15"
                        },
                        "default": {
                            "@value": ""
                        },
                        "description": {
                            "text": "The expected DAPI (Destination Access Point Identifier)."
                        }
                    },
                    {
                        "@name": "tx-sapi",
                        "type": {
                            "@name": "ioa-fac-common:tti-15"
                        },
                        "default": {
                            "@value": ""
                        },
                        "description": {
                            "text": "The transmitted SAPI bytes."
                        }
                    },
                    {
                        "@name": "tx-dapi",
                        "type": {
                            "@name": "ioa-fac-common:tti-15"
                        },
                        "default": {
                            "@value": ""
                        },
                        "description": {
                            "text": "The transmitted DAPI bytes."
                        }
                    },
                    {
                        "@name": "rx-sapi",
                        "type": {
                            "@name": "ioa-fac-common:trail-trace-identifier-ascii",
                            "length": {
                                "@value": "0..15"
                            }
                        },
                        "config": {
                            "@value": "false"
                        },
                        "description": {
                            "text": "The received SAPI bytes as an ASCII string; will not be available if bytes cannot be encoded as a printable string."
                        }
                    },
                    {
                        "@name": "rx-sapi-hex",
                        "type": {
                            "@name": "ioa-fac-common:trail-trace-identifier-hex",
                            "length": {
                                "@value": "0..32"
                            }
                        },
                        "config": {
                            "@value": "false"
                        },
                        "description": {
                            "text": "Received SAPI in HEX."
                        }
                    },
                    {
                        "@name": "rx-dapi",
                        "type": {
                            "@name": "ioa-fac-common:trail-trace-identifier-ascii",
                            "length": {
                                "@value": "0..15"
                            }
                        },
                        "config": {
                            "@value": "false"
                        },
                        "description": {
                            "text": "The received DAPI bytes as an ASCII string; will not be available if bytes cannot be encoded as a printable string."
                        }
                    },
                    {
                        "@name": "rx-dapi-hex",
                        "type": {
                            "@name": "ioa-fac-common:trail-trace-identifier-hex",
                            "length": {
                                "@value": "0..32"
                            }
                        },
                        "config": {
                            "@value": "false"
                        },
                        "description": {
                            "text": "Received DAPI in HEX."
                        }
                    },
                    {
                        "@name": "rx-operator-hex",
                        "type": {
                            "@name": "ioa-fac-common:trail-trace-identifier-hex",
                            "length": {
                                "@value": "0..66"
                            }
                        },
                        "config": {
                            "@value": "false"
                        },
                        "description": {
                            "text": "Received operator in HEX."
                        }
                    }
                ],
                "uses": {
                    "@name": "ioa-fac-common:tti-diagnostics-common"
                }
            },
            {
                "@name": "msi",
                "leaf": [
                    {
                        "@name": "rx-msi",
                        "type": {
                            "@name": "string",
                            "length": {
                                "@value": "0..512"
                            }
                        },
                        "config": {
                            "@value": "false"
                        },
                        "description": {
                            "text": "Received and accepted MSI values (up to 80), including a valid/invalid indication\n(valid if acceptance process successful, invalid if not; when invalid the last accepted MSI set is shown)."
                        }
                    },
                    {
                        "@name": "rx-msi-hex",
                        "type": {
                            "@name": "string",
                            "length": {
                                "@value": "0..512"
                            }
                        },
                        "config": {
                            "@value": "false"
                        },
                        "description": {
                            "text": "Received and accepted MSI hex values (up to 80) (if acceptance process was not successful the last accepted MSI set is shown)."
                        }
                    },
                    {
                        "@name": "expected-msi",
                        "type": {
                            "@name": "string",
                            "length": {
                                "@value": "0..512"
                            }
                        },
                        "config": {
                            "@value": "false"
                        },
                        "description": {
                            "text": "Expected MSI values (up to 80). For format see rx-msi without valid/invalid flag.\nUser-friendly representation of expected-msi-hex."
                        }
                    },
                    {
                        "@name": "expected-msi-hex",
                        "type": {
                            "@name": "string",
                            "length": {
                                "@value": "0..512"
                            }
                        },
                        "config": {
                            "@value": "false"
                        },
                        "description": {
                            "text": "Expected MSI hex values (up to 80)."
                        }
                    }
                ]
            },
            {
                "@name": "odu-mux-info",
                "leaf": [
                    {
                        "@name": "accepted-trib-port-number",
                        "type": {
                            "@name": "ioa-common:number-list",
                            "length": {
                                "@value": "0..255"
                            }
                        },
                        "config": {
                            "@value": "false"
                        },
                        "description": {
                            "text": "Received and accepted Tributary Port Number for the LO-ODU entity."
                        }
                    },
                    {
                        "@name": "expected-trib-port-number",
                        "type": {
                            "@name": "uint8",
                            "range": {
                                "@value": "1..max"
                            }
                        },
                        "description": {
                            "text": "Expected Tributary Port Number for the LO-ODU entity."
                        }
                    },
                    {
                        "@name": "accepted-time-slots",
                        "type": {
                            "@name": "ioa-common:number-list",
                            "length": {
                                "@value": "0..255"
                            }
                        },
                        "config": {
                            "@value": "false"
                        },
                        "description": {
                            "text": "Received and accepted TS for the LO-ODU entity."
                        }
                    },
                    {
                        "@name": "expected-time-slots",
                        "type": {
                            "@name": "ioa-common:number-list",
                            "length": {
                                "@value": "0..255"
                            }
                        },
                        "description": {
                            "text": "Expected TS for the LO-ODU entity."
                        }
                    }
                ],
                "uses": {
                    "@name": "msi"
                }
            },
            {
                "@name": "otn-diagnostics",
                "description": {
                    "text": "Set of attributes associated with OTU/ODU diagnostics."
                },
                "leaf": [
                    {
                        "@name": "monitoring-mode",
                        "type": {
                            "@name": "monitoring-mode"
                        },
                        "default": {
                            "@value": "intrusive"
                        },
                        "description": {
                            "text": "The monitoring mode on the ODU/OTU client."
                        }
                    },
                    {
                        "@name": "tti-mismatch-alarm-reporting",
                        "type": {
                            "@name": "enumeration",
                            "enum": [
                                {
                                    "@name": "disabled",
                                    "value": {
                                        "@value": "0"
                                    },
                                    "description": {
                                        "text": "No TTI match checking"
                                    }
                                },
                                {
                                    "@name": "full-64-bytes",
                                    "value": {
                                        "@value": "1"
                                    },
                                    "description": {
                                        "text": "Compares entire TTI 64 bytes (proprietary style)"
                                    }
                                },
                                {
                                    "@name": "SAPI",
                                    "value": {
                                        "@value": "2"
                                    },
                                    "description": {
                                        "text": "Comparing SAPI only (ITU style)"
                                    }
                                },
                                {
                                    "@name": "DAPI",
                                    "value": {
                                        "@value": "3"
                                    },
                                    "description": {
                                        "text": "Comparing DAPI only (ITU style)"
                                    }
                                },
                                {
                                    "@name": "OPER",
                                    "value": {
                                        "@value": "4"
                                    },
                                    "description": {
                                        "text": "Comparing Operator Specific only (ITU style)"
                                    }
                                },
                                {
                                    "@name": "SAPI_DAPI",
                                    "value": {
                                        "@value": "5"
                                    },
                                    "description": {
                                        "text": "Comparing SAPI + DAPI (ITU style)"
                                    }
                                },
                                {
                                    "@name": "SAPI_OPER",
                                    "value": {
                                        "@value": "6"
                                    },
                                    "description": {
                                        "text": "Comparing SAPI + OPER (ITU style)"
                                    }
                                },
                                {
                                    "@name": "DAPI_OPER",
                                    "value": {
                                        "@value": "7"
                                    },
                                    "description": {
                                        "text": "Comparing DAPI + OPER (ITU style)"
                                    }
                                },
                                {
                                    "@name": "SAPI_DAPI_OPER",
                                    "value": {
                                        "@value": "8"
                                    },
                                    "description": {
                                        "text": "Comparing SAPI + DAPI + OPER (ITU style)"
                                    }
                                }
                            ]
                        },
                        "default": {
                            "@value": "disabled"
                        },
                        "description": {
                            "text": "Indicates if TTI-Mismatch (TIM) alarm is reported or not.\nIf it is to be reported, indicates the criteria based on with the TIM alarm is reported."
                        }
                    },
                    {
                        "@name": "tim-act-enabled",
                        "type": {
                            "@name": "ioa-common:enable-switch"
                        },
                        "default": {
                            "@value": "disabled"
                        },
                        "description": {
                            "text": "Support configurable TIM action which decide if insert maintenance signal per TIM: enable or disable, default disable"
                        }
                    }
                ],
                "uses": [
                    {
                        "@name": "ioa-fac-common:otn-ots-tti-style"
                    },
                    {
                        "@name": "ioa-fac-common:tti-common",
                        "when": {
                            "@condition": "tti-style = 'proprietary'"
                        }
                    },
                    {
                        "@name": "tti-itu",
                        "when": {
                            "@condition": "tti-style = 'ITU-T-G709'"
                        }
                    }
                ]
            },
            {
                "@name": "otn-degrade",
                "leaf": [
                    {
                        "@name": "degrade-interval",
                        "type": {
                            "@name": "uint8",
                            "range": {
                                "@value": "2..10"
                            }
                        },
                        "units": {
                            "@name": "seconds"
                        },
                        "default": {
                            "@value": "7"
                        },
                        "description": {
                            "text": "The consecutive number of 1s intervals with the number of detected block errors exceeding the block error\nthreshold for each of those seconds for the purposes of SDBER detection."
                        }
                    },
                    {
                        "@name": "degrade-threshold",
                        "type": {
                            "@name": "ioa-common:percent"
                        },
                        "default": {
                            "@value": "30"
                        },
                        "description": {
                            "text": "The threshold in percentage of block errors versus total blocks at which a degrade-interval number of seconds\nwill be considered degraded for the purposes of SDBER detection."
                        }
                    }
                ]
            },
            {
                "@name": "time-slots",
                "leaf": {
                    "@name": "time-slots",
                    "type": {
                        "@name": "ioa-common:number-list",
                        "length": {
                            "@value": "0..255"
                        }
                    },
                    "description": {
                        "text": "Time slots of the ODU."
                    }
                }
            },
            {
                "@name": "opucn-time-slots",
                "leaf": {
                    "@name": "opucn-time-slots",
                    "type": {
                        "@name": "ioa-common:decimal-list",
                        "length": {
                            "@value": "0..500"
                        }
                    },
                    "description": {
                        "text": "Opucn Time slots of the ODUCn."
                    }
                }
            }
        ]
    }
}