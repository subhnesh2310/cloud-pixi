{
    "module": {
        "@name": "ioa-networking",
        "@xmlns": "urn:ietf:params:xml:ns:yang:yin:1",
        "@xmlns:networking": "http://infinera.com/yang/ioa/networking",
        "@xmlns:yang": "urn:ietf:params:xml:ns:yang:ietf-yang-types",
        "@xmlns:inet": "urn:ietf:params:xml:ns:yang:ietf-inet-types",
        "@xmlns:ioa-common": "http://infinera.com/yang/ioa/common",
        "@xmlns:ioa-rt": "http://infinera.com/yang/ioa/networking/routing",
        "@xmlns:ioa-acl": "http://infinera.com/yang/ioa-acl",
        "namespace": {
            "@uri": "http://infinera.com/yang/ioa/networking"
        },
        "prefix": {
            "@value": "networking"
        },
        "import": [
            {
                "@module": "ietf-yang-types",
                "prefix": {
                    "@value": "yang"
                }
            },
            {
                "@module": "ietf-inet-types",
                "prefix": {
                    "@value": "inet"
                }
            },
            {
                "@module": "ioa-common",
                "prefix": {
                    "@value": "ioa-common"
                }
            },
            {
                "@module": "ioa-routing",
                "prefix": {
                    "@value": "ioa-rt"
                }
            },
            {
                "@module": "ioa-acl",
                "prefix": {
                    "@value": "ioa-acl"
                }
            }
        ],
        "organization": {
            "text": "Infinera"
        },
        "contact": {
            "text": "Infinera Technical Support <techsupport@infinera.com>"
        },
        "description": {
            "text": "IOA YANG module with the networking model."
        },
        "revision": [
            {
                "@date": "2022-10-31",
                "description": {
                    "text": "YANG Models for Infinera Open API (IOA) for release R6.0"
                }
            },
            {
                "@date": "2022-02-28",
                "description": {
                    "text": "YANG Models for Infinera Open API (IOA) for release R5.1"
                }
            },
            {
                "@date": "2021-12-10",
                "description": {
                    "text": "YANG Models for Infinera Open API (IOA) for release R5.0"
                }
            },
            {
                "@date": "2021-06-01",
                "description": {
                    "text": "YANG Models for Infinera Open API (IOA) for release R4.0"
                }
            }
        ],
        "typedef": [
            {
                "@name": "ip-address-config-mode",
                "type": {
                    "@name": "enumeration",
                    "enum": [
                        {
                            "@name": "static",
                            "value": {
                                "@value": "1"
                            }
                        },
                        {
                            "@name": "dhcp",
                            "value": {
                                "@value": "2"
                            }
                        }
                    ]
                },
                "description": {
                    "text": "IP address assignment method."
                }
            },
            {
                "@name": "protection-mode",
                "type": {
                    "@name": "enumeration",
                    "enum": [
                        {
                            "@name": "unknown",
                            "value": {
                                "@value": "0"
                            },
                            "description": {
                                "text": "Unknown/Transient protection state; output only."
                            }
                        },
                        {
                            "@name": "protected",
                            "value": {
                                "@value": "1"
                            },
                            "description": {
                                "text": "Protected by redundant ports."
                            }
                        },
                        {
                            "@name": "unprotected",
                            "value": {
                                "@value": "2"
                            },
                            "description": {
                                "text": "No port redundancy."
                            }
                        }
                    ]
                },
                "description": {
                    "text": "Protection-mode/state of interface."
                }
            }
        ],
        "grouping": [
            {
                "@name": "ip",
                "description": {
                    "text": "IPv4 and IPv6 interface parameters."
                },
                "list": [
                    {
                        "@name": "ipv4-address",
                        "key": {
                            "@value": "ip"
                        },
                        "description": {
                            "text": "The IPv4 address on the interface."
                        },
                        "leaf": [
                            {
                                "@name": "ip",
                                "type": {
                                    "@name": "inet:ipv4-address-no-zone",
                                    "pattern": [
                                        {
                                            "@value": "[^1].*|.([^2].*)?|.{2}([^7].*)?|.{3}([^\\.].*)?"
                                        },
                                        {
                                            "@value": "[^2].*|.([^2].*)?|.{2}([^4-9].*)?|.{3}([^\\.].*)?"
                                        },
                                        {
                                            "@value": "[^2].*|.([^3-5].*)?|.{2}([^0-9].*)?|.{3}([^\\.].*)?"
                                        }
                                    ]
                                },
                                "mandatory": {
                                    "@value": "true"
                                },
                                "description": {
                                    "text": "The IPv4 addresses on the interface. The following\naddresses are disallowed from being configured:\n1. Addresses beginning with 0 (current network)\n2. Addresses beginning with 127 (loopback addresses)\n3. Addresses beginning with 224 up to 255 (broadcast,\n       multicast and experimental addresses)"
                                }
                            },
                            {
                                "@name": "netmask",
                                "type": {
                                    "@name": "yang:dotted-quad",
                                    "pattern": {
                                        "@value": "(((255\\.){3}(255|254|252|248|240|224|192|128|0))|((255\\.){2}(255|254|252|248|240|224|192|128|0)\\.0)|((255\\.)(255|254|252|248|240|224|192|128|0)(\\.0){2})|((255|254|252|248|240|224|192|128|0)(\\.0){3}))"
                                    }
                                },
                                "mandatory": {
                                    "@value": "true"
                                },
                                "description": {
                                    "text": "The subnet specified as a netmask for a particular address.\nOnly valid netmasks are allowed to be configured."
                                }
                            },
                            {
                                "@name": "origin",
                                "type": {
                                    "@name": "enumeration",
                                    "enum": [
                                        {
                                            "@name": "static",
                                            "value": {
                                                "@value": "1"
                                            },
                                            "description": {
                                                "text": "Indicates that the address has been statically\nconfigured - for example, using NETCONF or a Command Line\nInterface."
                                            }
                                        },
                                        {
                                            "@name": "dhcp",
                                            "value": {
                                                "@value": "2"
                                            },
                                            "description": {
                                                "text": "Indicates an address that has been assigned to this\nsystem by a DHCP server."
                                            }
                                        },
                                        {
                                            "@name": "auto-config",
                                            "value": {
                                                "@value": "3"
                                            },
                                            "description": {
                                                "text": "Indicates an address created by autoconfiguration."
                                            }
                                        }
                                    ]
                                },
                                "default": {
                                    "@value": "static"
                                },
                                "config": {
                                    "@value": "false"
                                },
                                "description": {
                                    "text": "IPv4 address assignment method."
                                }
                            }
                        ]
                    },
                    {
                        "@name": "ipv6-address",
                        "when": {
                            "@condition": "../if-type != 'ppp'"
                        },
                        "key": {
                            "@value": "ip"
                        },
                        "description": {
                            "text": "The IPv6 address on the interface."
                        },
                        "leaf": [
                            {
                                "@name": "ip",
                                "type": {
                                    "@name": "inet:ipv6-address-no-zone"
                                },
                                "mandatory": {
                                    "@value": "true"
                                },
                                "description": {
                                    "text": "The IPv6 address on the interface"
                                }
                            },
                            {
                                "@name": "prefix-length",
                                "type": {
                                    "@name": "uint8",
                                    "range": {
                                        "@value": "1..128"
                                    }
                                },
                                "mandatory": {
                                    "@value": "true"
                                },
                                "description": {
                                    "text": "The length of the subnet prefix. Only valid prefixes are\nallowed to be configured."
                                }
                            },
                            {
                                "@name": "origin",
                                "type": {
                                    "@name": "enumeration",
                                    "enum": [
                                        {
                                            "@name": "static",
                                            "value": {
                                                "@value": "1"
                                            },
                                            "description": {
                                                "text": "Indicates that the address has been statically\nconfigured - for example, using NETCONF or a Command Line\nInterface."
                                            }
                                        },
                                        {
                                            "@name": "dhcp",
                                            "value": {
                                                "@value": "2"
                                            },
                                            "description": {
                                                "text": "Indicates an address that has been assigned to this\nsystem by a DHCP server."
                                            }
                                        },
                                        {
                                            "@name": "auto-config",
                                            "value": {
                                                "@value": "3"
                                            },
                                            "description": {
                                                "text": "Indicates an address created by autoconfiguration."
                                            }
                                        }
                                    ]
                                },
                                "default": {
                                    "@value": "static"
                                },
                                "config": {
                                    "@value": "false"
                                },
                                "description": {
                                    "text": "IPv6 address assignment method."
                                }
                            }
                        ]
                    }
                ]
            },
            {
                "@name": "interface",
                "description": {
                    "text": "Interface parameters."
                },
                "list": {
                    "@name": "interface",
                    "key": {
                        "@value": "if-name"
                    },
                    "description": {
                        "text": "The list of configured interfaces on the device."
                    },
                    "leaf": [
                        {
                            "@name": "if-name",
                            "type": {
                                "@name": "string",
                                "length": {
                                    "@value": "1..64"
                                }
                            },
                            "mandatory": {
                                "@value": "true"
                            },
                            "description": {
                                "text": "The name of the interface."
                            }
                        },
                        {
                            "@name": "if-description",
                            "type": {
                                "@name": "string",
                                "length": {
                                    "@value": "0..255"
                                }
                            },
                            "description": {
                                "text": "A textual description of the interface."
                            },
                            "reference": {
                                "text": "RFC 2863: The Interfaces Group MIB - ifAlias"
                            }
                        },
                        {
                            "@name": "if-type",
                            "type": {
                                "@name": "enumeration",
                                "enum": [
                                    {
                                        "@name": "ethernet",
                                        "value": {
                                            "@value": "1"
                                        },
                                        "description": {
                                            "text": "For all Ethernet-like interfaces, regardless of speed, as per RFC 3635."
                                        },
                                        "reference": {
                                            "text": "RFC 3635 - Definitions of Managed Objects for the Ethernet-like Interface Types"
                                        }
                                    },
                                    {
                                        "@name": "software-loopback",
                                        "value": {
                                            "@value": "2"
                                        },
                                        "description": {
                                            "text": "Software Loopback interface type."
                                        }
                                    },
                                    {
                                        "@name": "point-to-point",
                                        "value": {
                                            "@value": "3"
                                        },
                                        "description": {
                                            "text": "Point to point interfaces associated with control channels."
                                        }
                                    },
                                    {
                                        "@name": "ppp",
                                        "value": {
                                            "@value": "4"
                                        },
                                        "description": {
                                            "text": "RFC 1661 Point-to-Point Protocol (PPP) interface. A Link Control\nProtocol (LCP) for establishing and configuring the data-link connection and\na family of Network Control Protocols (NCPs) for establishing and configuring\ndifferent network-layer protocols will run over the interface."
                                        },
                                        "reference": {
                                            "text": "RFC 7224 - IANA Interface Type YANG Module"
                                        }
                                    },
                                    {
                                        "@name": "hdlc",
                                        "value": {
                                            "@value": "5"
                                        },
                                        "description": {
                                            "text": "HDLC(High-Level Data Link Control)-like interface associated with OSCX channels."
                                        }
                                    },
                                    {
                                        "@name": "oscx",
                                        "value": {
                                            "@value": "6"
                                        },
                                        "description": {
                                            "text": "Interface associated with OSCX channels."
                                        }
                                    }
                                ]
                            },
                            "mandatory": {
                                "@value": "true"
                            },
                            "description": {
                                "text": "The type of the interface."
                            },
                            "reference": {
                                "text": "RFC 2863: The Interfaces Group MIB - ifType"
                            }
                        },
                        {
                            "@name": "supporting-port",
                            "when": {
                                "@condition": "../if-type != 'software-loopback'"
                            },
                            "type": {
                                "@name": "string",
                                "length": {
                                    "@value": "0..64"
                                }
                            },
                            "config": {
                                "@value": "false"
                            },
                            "description": {
                                "text": "Reference to the physical port that interface is currently mapped to."
                            }
                        },
                        {
                            "@name": "backup-port",
                            "when": {
                                "@condition": "../if-type = 'ethernet'"
                            },
                            "type": {
                                "@name": "string",
                                "length": {
                                    "@value": "0..64"
                                }
                            },
                            "config": {
                                "@value": "false"
                            },
                            "description": {
                                "text": "Reference to the physical port that supports this interface (if applicable)."
                            }
                        },
                        {
                            "@name": "protection-mode",
                            "when": {
                                "@condition": "../if-type = 'ethernet'"
                            },
                            "type": {
                                "@name": "protection-mode"
                            },
                            "default": {
                                "@value": "protected"
                            },
                            "description": {
                                "text": "Reference to user given protection mode for interface."
                            }
                        },
                        {
                            "@name": "protection-state",
                            "when": {
                                "@condition": "../if-type = 'ethernet'"
                            },
                            "type": {
                                "@name": "protection-mode"
                            },
                            "default": {
                                "@value": "unknown"
                            },
                            "config": {
                                "@value": "false"
                            },
                            "description": {
                                "text": "Reference to current state of protection of interface so by default its unknown."
                            }
                        },
                        {
                            "@name": "vrf",
                            "type": {
                                "@name": "leafref",
                                "path": {
                                    "@value": "../../vrf/name"
                                }
                            },
                            "config": {
                                "@value": "false"
                            },
                            "description": {
                                "text": "VRF to which this interface is bound."
                            }
                        },
                        {
                            "@name": "ipv4-enabled",
                            "type": {
                                "@name": "boolean"
                            },
                            "default": {
                                "@value": "true"
                            },
                            "description": {
                                "text": "Controls whether IPv4 is enabled or disabled on this\ninterface. When IPv4 is enabled, this interface is\nconnected to an IPv4 stack, and the interface can send\nand receive IPv4 packets."
                            }
                        },
                        {
                            "@name": "ipv4-address-assignment-method",
                            "type": {
                                "@name": "ip-address-config-mode"
                            },
                            "default": {
                                "@value": "static"
                            },
                            "description": {
                                "text": "IPv4 address assignment method."
                            }
                        },
                        {
                            "@name": "ipv6-enabled",
                            "when": {
                                "@condition": "../if-type != 'ppp' and ../if-type != 'hdlc'"
                            },
                            "type": {
                                "@name": "boolean"
                            },
                            "default": {
                                "@value": "true"
                            },
                            "description": {
                                "text": "Controls whether IPv6 is enabled or disabled on this\ninterface. When IPv6 is enabled, this interface is\nconnected to an IPv6 stack, and the interface can send\nand receive IPv6 packets."
                            }
                        },
                        {
                            "@name": "ipv6-address-assignment-method",
                            "when": {
                                "@condition": "../if-type != 'ppp' and ../if-type != 'hdlc'"
                            },
                            "type": {
                                "@name": "ip-address-config-mode"
                            },
                            "default": {
                                "@value": "static"
                            },
                            "description": {
                                "text": "IPv6 address assignment method."
                            }
                        },
                        {
                            "@name": "proxy-arp-enabled",
                            "when": {
                                "@condition": "../if-type != 'ppp' and ../if-type != 'hdlc'"
                            },
                            "type": {
                                "@name": "boolean"
                            },
                            "default": {
                                "@value": "false"
                            },
                            "description": {
                                "text": "Controls whether or not Proxy ARP is to be enabled on the interface."
                            }
                        }
                    ],
                    "uses": [
                        {
                            "@name": "ioa-common:common-states",
                            "when": {
                                "@condition": "if-type != 'software-loopback'"
                            }
                        },
                        {
                            "@name": "ip"
                        },
                        {
                            "@name": "ioa-common:arc"
                        },
                        {
                            "@name": "ioa-common:label"
                        }
                    ]
                }
            },
            {
                "@name": "vrf",
                "list": {
                    "@name": "vrf",
                    "key": {
                        "@value": "name"
                    },
                    "description": {
                        "text": "Virtual Routing and Forwarding instance."
                    },
                    "leaf": [
                        {
                            "@name": "name",
                            "type": {
                                "@name": "string",
                                "length": {
                                    "@value": "1..32"
                                }
                            },
                            "description": {
                                "text": "Name of the VRF."
                            }
                        },
                        {
                            "@name": "type",
                            "type": {
                                "@name": "enumeration",
                                "enum": [
                                    {
                                        "@name": "mgmt",
                                        "value": {
                                            "@value": "0"
                                        },
                                        "description": {
                                            "text": "Management VRF."
                                        }
                                    },
                                    {
                                        "@name": "internal",
                                        "value": {
                                            "@value": "1"
                                        },
                                        "description": {
                                            "text": "Internal VRF."
                                        }
                                    },
                                    {
                                        "@name": "scn",
                                        "value": {
                                            "@value": "2"
                                        },
                                        "description": {
                                            "text": "SCN VRF."
                                        }
                                    }
                                ]
                            },
                            "config": {
                                "@value": "false"
                            },
                            "description": {
                                "text": "VRF type."
                            }
                        },
                        {
                            "@name": "chassis-name",
                            "type": {
                                "@name": "leafref",
                                "path": {
                                    "@value": "../../../../equipment/chassis/name"
                                }
                            },
                            "config": {
                                "@value": "false"
                            },
                            "description": {
                                "text": "Associated chassis name to this VRF."
                            }
                        },
                        {
                            "@name": "description",
                            "type": {
                                "@name": "string",
                                "length": {
                                    "@value": "0..255"
                                }
                            },
                            "config": {
                                "@value": "false"
                            },
                            "description": {
                                "text": "Description of the VRF and its intended purpose."
                            }
                        }
                    ]
                }
            },
            {
                "@name": "dns",
                "container": {
                    "@name": "dns",
                    "description": {
                        "text": "Domain Name Server configuration"
                    },
                    "uses": {
                        "@name": "ioa-common:assignment-method"
                    },
                    "leaf": [
                        {
                            "@name": "enabled",
                            "type": {
                                "@name": "boolean"
                            },
                            "default": {
                                "@value": "true"
                            },
                            "description": {
                                "text": "Whether DNS is enabled."
                            }
                        },
                        {
                            "@name": "search",
                            "type": {
                                "@name": "string",
                                "length": {
                                    "@value": "0..64"
                                },
                                "pattern": {
                                    "@value": "(([A-Za-z0-9]*\\.)+[A-Za-z0-9]+)?"
                                }
                            },
                            "description": {
                                "text": "DNS-search-suffix name, should contain atleast single dot.\n  To clear value, set to empty string."
                            }
                        }
                    ],
                    "list": {
                        "@name": "dns-server",
                        "key": {
                            "@value": "address"
                        },
                        "description": {
                            "text": "DNS server configuration."
                        },
                        "leaf": [
                            {
                                "@name": "address",
                                "type": {
                                    "@name": "inet:ip-address"
                                },
                                "description": {
                                    "text": "DNS address."
                                }
                            },
                            {
                                "@name": "origin",
                                "type": {
                                    "@name": "enumeration",
                                    "enum": [
                                        {
                                            "@name": "manual",
                                            "value": {
                                                "@value": "1"
                                            },
                                            "description": {
                                                "text": "Indicates the dns address has been manually configured."
                                            }
                                        },
                                        {
                                            "@name": "dhcp",
                                            "value": {
                                                "@value": "2"
                                            },
                                            "description": {
                                                "text": "Indicates dns address that has been assigned to this\nsystem by a DHCP server."
                                            }
                                        }
                                    ]
                                },
                                "description": {
                                    "text": "DNS address assignment method, user can convert\nDHCP configured DNS entry into a manual configured  by changing this attribute."
                                }
                            }
                        ]
                    }
                }
            },
            {
                "@name": "rib",
                "list": {
                    "@name": "rib",
                    "key": {
                        "@value": "rib-name"
                    },
                    "config": {
                        "@value": "false"
                    },
                    "description": {
                        "text": "Each entry represents a RIB identified by the 'name'\nkey. All routes in a RIB belong to the same address\nfamily. For each routing instance, the system will\nprovide one system-controlled default RIB for each\nsupported address family."
                    },
                    "leaf": [
                        {
                            "@name": "rib-name",
                            "type": {
                                "@name": "ioa-common:object-name"
                            },
                            "description": {
                                "text": "The name of the RIB."
                            }
                        },
                        {
                            "@name": "vrf",
                            "type": {
                                "@name": "leafref",
                                "path": {
                                    "@value": "../../vrf/name"
                                }
                            },
                            "description": {
                                "text": "VRF to which this RIB is bound."
                            }
                        },
                        {
                            "@name": "address-family",
                            "type": {
                                "@name": "enumeration",
                                "enum": [
                                    {
                                        "@name": "ipv4-unicast",
                                        "value": {
                                            "@value": "1"
                                        }
                                    },
                                    {
                                        "@name": "ipv6-unicast",
                                        "value": {
                                            "@value": "2"
                                        }
                                    }
                                ]
                            },
                            "default": {
                                "@value": "ipv4-unicast"
                            },
                            "description": {
                                "text": "Address family."
                            }
                        }
                    ],
                    "list": {
                        "@name": "route",
                        "key": {
                            "@value": "destination-prefix"
                        },
                        "description": {
                            "text": "A list of system routes from various source, such as dynamic protocols and static route."
                        },
                        "leaf": {
                            "@name": "destination-prefix",
                            "type": {
                                "@name": "inet:ip-prefix"
                            },
                            "description": {
                                "text": "IP destination prefix."
                            }
                        },
                        "list": {
                            "@name": "next-hop",
                            "key": {
                                "@value": "interface"
                            },
                            "description": {
                                "text": "Next-hop of a route item."
                            },
                            "leaf": [
                                {
                                    "@name": "interface",
                                    "type": {
                                        "@name": "leafref",
                                        "path": {
                                            "@value": "../../../../interface/if-name"
                                        }
                                    },
                                    "description": {
                                        "text": "Reference of the outgoing interface."
                                    }
                                },
                                {
                                    "@name": "next-hop-address",
                                    "type": {
                                        "@name": "inet:ip-address"
                                    },
                                    "description": {
                                        "text": "IP address of the next-hop."
                                    }
                                }
                            ]
                        }
                    }
                }
            },
            {
                "@name": "networking",
                "container": {
                    "@name": "networking",
                    "description": {
                        "text": "Top level container for networking model."
                    },
                    "uses": [
                        {
                            "@name": "interface"
                        },
                        {
                            "@name": "vrf"
                        },
                        {
                            "@name": "ioa-rt:routing"
                        },
                        {
                            "@name": "rib"
                        },
                        {
                            "@name": "ioa-acl:acl-attributes"
                        },
                        {
                            "@name": "dns"
                        }
                    ],
                    "leaf": {
                        "@name": "use-as-source",
                        "type": {
                            "@name": "string",
                            "length": {
                                "@value": "0..64"
                            }
                        },
                        "description": {
                            "text": "Interface to use as source address"
                        }
                    }
                }
            }
        ]
    }
}